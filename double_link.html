<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>双向链表</title>
</head>

<body>
    <script>
      function Element(element) {
        this.element = element
        this.next = null
        this.pre = null
      }
      function LList() {
        this.head = new Element('head')
        this.find = find
        this.findPrevious = findPrevious
        this.inserts = inserts
        this.remove = remove
        this.findLast = findLast
        this.reverseLog = reverseLog
        this.logs = logs
      }
      function find(item) {
        var currElement = this.head
        while(currElement.element != item) {
          currElement = currElement.next
        }
        return currElement
      }
      function inserts(newElement,item) {
        var newElement = new Element(newElement)
        var currElement = this.find(item)
        newElement.next = currElement.next
        newElement.pre = currElement
        currElement.next = newElement
        if(!(newElement.next==null)) {
          newElement.next.pre = newElement
        }
      }
      function findPrevious(item) {
        var currElement = this.head
        while((currElement.next.element != item)&&(currElement.next != null)) {
          currElement = currElement.next
        }
        return currElement
      }
      function remove(item) {
        var currElement = this.find(item)
        if(!currElement.next) {
          currElement.pre.next = null
        }else {
          currElement.pre.next = currElement.next
          currElement.next.pre = currElement.pre
        }
        currElement.next = null 
        currElement.pre = null
      }
      function findLast() {
        var currElement = this.head
        while(currElement.next) {
          currElement = currElement.next
        }
        return currElement
      }
      function reverseLog() {
        var currElement = this.findLast()
        while(currElement.pre) {
          console.log(currElement)
          currElement = currElement.pre
        }
      }
      function logs() {
        var currElement = this.head
        while(currElement.next !=null) {
          console.log(currElement.next.element)
          currElement = currElement.next
        }
        return
      }
      var city = new LList()
      city.inserts('first','head');
      city.inserts('second','first');
      city.inserts('third','second');
      city.inserts('fourth','third');
      city.inserts('fifth','fourth');
      city.logs()
      city.reverseLog()
    </script>
</body>
</html>